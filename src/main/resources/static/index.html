<!--&lt;!&ndash;<!DOCTYPE html>&ndash;&gt;-->
<!--&lt;!&ndash;<html lang="en">&ndash;&gt;-->

<!--&lt;!&ndash;<head>&ndash;&gt;-->
<!--&lt;!&ndash;  <meta charset="UTF-8" />&ndash;&gt;-->
<!--&lt;!&ndash;  <meta name="viewport" content="width=device-width, initial-scale=1.0" />&ndash;&gt;-->
<!--&lt;!&ndash;  <title>Instagram Style Auth</title>&ndash;&gt;-->
<!--&lt;!&ndash;  <style>&ndash;&gt;-->
<!--&lt;!&ndash;    body {&ndash;&gt;-->
<!--&lt;!&ndash;      font-family: Arial, sans-serif;&ndash;&gt;-->
<!--&lt;!&ndash;      background-color: #fafafa;&ndash;&gt;-->
<!--&lt;!&ndash;      margin: 0;&ndash;&gt;-->
<!--&lt;!&ndash;      padding: 0;&ndash;&gt;-->
<!--&lt;!&ndash;      display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;      justify-content: center;&ndash;&gt;-->
<!--&lt;!&ndash;      align-items: center;&ndash;&gt;-->
<!--&lt;!&ndash;      flex-direction: column;&ndash;&gt;-->
<!--&lt;!&ndash;      min-height: 100vh;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .container {&ndash;&gt;-->
<!--&lt;!&ndash;      width: 350px;&ndash;&gt;-->
<!--&lt;!&ndash;      border: 1px solid #dbdbdb;&ndash;&gt;-->
<!--&lt;!&ndash;      background: #fff;&ndash;&gt;-->
<!--&lt;!&ndash;      padding: 40px 30px;&ndash;&gt;-->
<!--&lt;!&ndash;      text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .container h1 {&ndash;&gt;-->
<!--&lt;!&ndash;      font-family: 'Billabong', cursive;&ndash;&gt;-->
<!--&lt;!&ndash;      font-size: 48px;&ndash;&gt;-->
<!--&lt;!&ndash;      margin-bottom: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .container input {&ndash;&gt;-->
<!--&lt;!&ndash;      width: 100%;&ndash;&gt;-->
<!--&lt;!&ndash;      padding: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;      margin: 6px 0;&ndash;&gt;-->
<!--&lt;!&ndash;      border: 1px solid #dbdbdb;&ndash;&gt;-->
<!--&lt;!&ndash;      border-radius: 3px;&ndash;&gt;-->
<!--&lt;!&ndash;      font-size: 14px;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .container button {&ndash;&gt;-->
<!--&lt;!&ndash;      width: 100%;&ndash;&gt;-->
<!--&lt;!&ndash;      padding: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;      background-color: #3897f0;&ndash;&gt;-->
<!--&lt;!&ndash;      border: none;&ndash;&gt;-->
<!--&lt;!&ndash;      border-radius: 4px;&ndash;&gt;-->
<!--&lt;!&ndash;      color: white;&ndash;&gt;-->
<!--&lt;!&ndash;      font-weight: bold;&ndash;&gt;-->
<!--&lt;!&ndash;      margin-top: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;      cursor: pointer;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .container button:hover {&ndash;&gt;-->
<!--&lt;!&ndash;      background-color: #3183d4;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .or-divider {&ndash;&gt;-->
<!--&lt;!&ndash;      display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;      align-items: center;&ndash;&gt;-->
<!--&lt;!&ndash;      margin: 15px 0;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .or-divider div {&ndash;&gt;-->
<!--&lt;!&ndash;      flex: 1;&ndash;&gt;-->
<!--&lt;!&ndash;      height: 1px;&ndash;&gt;-->
<!--&lt;!&ndash;      background: #dbdbdb;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .or-divider span {&ndash;&gt;-->
<!--&lt;!&ndash;      margin: 0 10px;&ndash;&gt;-->
<!--&lt;!&ndash;      font-size: 12px;&ndash;&gt;-->
<!--&lt;!&ndash;      color: #8e8e8e;&ndash;&gt;-->
<!--&lt;!&ndash;      font-weight: bold;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .toggle-box {&ndash;&gt;-->
<!--&lt;!&ndash;      width: 350px;&ndash;&gt;-->
<!--&lt;!&ndash;      border: 1px solid #dbdbdb;&ndash;&gt;-->
<!--&lt;!&ndash;      background: #fff;&ndash;&gt;-->
<!--&lt;!&ndash;      margin-top: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;      padding: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;      text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .toggle-box span {&ndash;&gt;-->
<!--&lt;!&ndash;      color: #3897f0;&ndash;&gt;-->
<!--&lt;!&ndash;      cursor: pointer;&ndash;&gt;-->
<!--&lt;!&ndash;      font-weight: bold;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .hidden {&ndash;&gt;-->
<!--&lt;!&ndash;      display: none;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .welcome {&ndash;&gt;-->
<!--&lt;!&ndash;      background: #fff;&ndash;&gt;-->
<!--&lt;!&ndash;      border: 1px solid #dbdbdb;&ndash;&gt;-->
<!--&lt;!&ndash;      padding: 40px 30px;&ndash;&gt;-->
<!--&lt;!&ndash;      text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->

<!--&lt;!&ndash;    .logout-btn {&ndash;&gt;-->
<!--&lt;!&ndash;      background: #ed4956;&ndash;&gt;-->
<!--&lt;!&ndash;      margin-top: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->
<!--&lt;!&ndash;  </style>&ndash;&gt;-->
<!--&lt;!&ndash;</head>&ndash;&gt;-->

<!--&lt;!&ndash;<body>&ndash;&gt;-->

<!--&lt;!&ndash;  <div id="signup">&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="container">&ndash;&gt;-->
<!--&lt;!&ndash;      <h1>Instagram</h1>&ndash;&gt;-->
<!--&lt;!&ndash;      <p style="color:#8e8e8e; font-size:14px; margin-bottom:15px;">Sign up to see photos and videos from your&ndash;&gt;-->
<!--&lt;!&ndash;        friends.</p>&ndash;&gt;-->
<!--&lt;!&ndash;        <form id="signupForm" enctype="multipart/form-data">&ndash;&gt;-->
<!--&lt;!&ndash;          <input type="text" name="name" placeholder="Name" required />&ndash;&gt;-->
<!--&lt;!&ndash;          <input type="text" name="username" placeholder="Username" required />&ndash;&gt;-->
<!--&lt;!&ndash;          <input type="email" name="email" placeholder="Email" />&ndash;&gt;-->
<!--&lt;!&ndash;          <input type="file" name="profilePhotoUrl" accept="image/*" />&ndash;&gt;-->
<!--&lt;!&ndash;          <button type="submit">Sign up</button>&ndash;&gt;-->
<!--&lt;!&ndash;        </form>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;      <div class="toggle-box">&ndash;&gt;-->
<!--&lt;!&ndash;      <div id="profileSection">&ndash;&gt;-->
<!--&lt;!&ndash;        <h3 id="profileUsername"></h3>&ndash;&gt;-->
<!--&lt;!&ndash;        <img id="profileImg" src="/static/default.png" alt="profile" width="140" height="140" />&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;      Have an account? <span onclick="showLogin()">Log in</span>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;  </div>&ndash;&gt;-->

<!--&lt;!&ndash;  <div id="loginForm" class="hidden">&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="container">&ndash;&gt;-->
<!--&lt;!&ndash;      <h1>Instagram</h1>&ndash;&gt;-->
<!--&lt;!&ndash;      <form id="loginForm">&ndash;&gt;-->
<!--&lt;!&ndash;        <input type="text" id="loginEmail" placeholder="Phone number, username, or email" required />&ndash;&gt;-->
<!--&lt;!&ndash;        <input type="password" id="loginPassword" placeholder="Password" required />&ndash;&gt;-->
<!--&lt;!&ndash;        <button type="submit">Log In</button>&ndash;&gt;-->
<!--&lt;!&ndash;      </form>&ndash;&gt;-->
<!--&lt;!&ndash;      <div class="or-divider">&ndash;&gt;-->
<!--&lt;!&ndash;        <div></div>&ndash;&gt;-->
<!--&lt;!&ndash;        <span>OR</span>&ndash;&gt;-->
<!--&lt;!&ndash;        <div></div>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;      <button style="background:#fff; color:#385185; border:1px solid #dbdbdb;">Log in with Facebook</button>&ndash;&gt;-->
<!--&lt;!&ndash;      <p style="color:#385185; font-size:12px; margin-top:12px; cursor:pointer;">Forgot password?</p>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="toggle-box">&ndash;&gt;-->
<!--&lt;!&ndash;      Donâ€™t have an account? <span onclick="showSignup()">Sign up</span>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;  </div>&ndash;&gt;-->

<!--&lt;!&ndash;  &lt;!&ndash; WELCOME PAGE &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;  <div id="welcome-section" class="hidden">&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="welcome">&ndash;&gt;-->
<!--&lt;!&ndash;      <h2 id="welcomeMsg">Welcome ðŸŽ‰</h2>&ndash;&gt;-->
<!--&lt;!&ndash;      <button class="logout-btn" onclick="logout()">Logout</button>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;  </div>&ndash;&gt;-->

<!--&lt;!&ndash;  <script>&ndash;&gt;-->
<!--&lt;!&ndash;    // // Show signup form&ndash;&gt;-->
<!--&lt;!&ndash;    // function showSignup() {&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("loginForm").classList.add("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("signupForm").classList.remove("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    // }&ndash;&gt;-->

<!--&lt;!&ndash;    // // Show login form&ndash;&gt;-->
<!--&lt;!&ndash;    // function showLogin() {&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("signupForm").classList.add("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("loginForm").classList.remove("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    // }&ndash;&gt;-->

<!--&lt;!&ndash;    // // Handle login&ndash;&gt;-->
<!--&lt;!&ndash;    // document.getElementById("loginForm").addEventListener("submit", function (e) {&ndash;&gt;-->
<!--&lt;!&ndash;    //   e.preventDefault();&ndash;&gt;-->
<!--&lt;!&ndash;    //   const email = document.getElementById("loginEmail").value;&ndash;&gt;-->
<!--&lt;!&ndash;    //   const password = document.getElementById("loginPassword").value;&ndash;&gt;-->

<!--&lt;!&ndash;    //   // ðŸ”¹ Backend call should go here (API call to /auth/login)&ndash;&gt;-->
<!--&lt;!&ndash;    //   console.log("Login:", { email, password });&ndash;&gt;-->

<!--&lt;!&ndash;    //   document.getElementById("welcomeMsg").innerText = `Welcome, ${email} ðŸŽ‰`;&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("loginForm").classList.add("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("welcome-section").classList.remove("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    // });&ndash;&gt;-->

<!--&lt;!&ndash;    // Handle signup&ndash;&gt;-->
<!--&lt;!&ndash;    // document.getElementById("signupForm").addEventListener("submit", function (e) {&ndash;&gt;-->
<!--&lt;!&ndash;    //   e.preventDefault();&ndash;&gt;-->
<!--&lt;!&ndash;    //   const email = document.getElementById("signupEmail").value;&ndash;&gt;-->
<!--&lt;!&ndash;    //   // const password = document.getElementById("signupPassword").value;&ndash;&gt;-->
<!--&lt;!&ndash;    //   const name = document.getElementById("signupName").value;&ndash;&gt;-->
<!--&lt;!&ndash;    //   const username = document.getElementById("signupUsername").value;&ndash;&gt;-->

<!--&lt;!&ndash;    //   // ðŸ”¹ Backend call should go here (API call to /auth/signup)&ndash;&gt;-->
<!--&lt;!&ndash;    //   console.log("Signup:", { email, name, username });&ndash;&gt;-->

<!--&lt;!&ndash;    //   document.getElementById("welcomeMsg").innerText = `Welcome, ${username} ðŸŽ‰`;&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("signupForm").classList.add("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("welcome-section").classList.remove("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    // });&ndash;&gt;-->

<!--&lt;!&ndash;    // // Logout&ndash;&gt;-->
<!--&lt;!&ndash;    // function logout() {&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("welcome-section").classList.add("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    //   document.getElementById("loginForm").classList.remove("hidden");&ndash;&gt;-->
<!--&lt;!&ndash;    // }&ndash;&gt;-->
<!--&lt;!&ndash;  </script>&ndash;&gt;-->


<!--&lt;!&ndash;  <script>&ndash;&gt;-->

<!--&lt;!&ndash;    const API_URL = "http://localhost:8888/instagram/users";&ndash;&gt;-->

<!--&lt;!&ndash;    document.getElementById("signupForm").addEventListener("submit", async (e) => {&ndash;&gt;-->
<!--&lt;!&ndash;      e.preventDefault();&ndash;&gt;-->
<!--&lt;!&ndash;      const form = e.target;&ndash;&gt;-->
<!--&lt;!&ndash;      const formData = new FormData(form); // Automatically collects all inputs including file&ndash;&gt;-->

<!--&lt;!&ndash;      for (let [key, value] of formData.entries()) {&ndash;&gt;-->
<!--&lt;!&ndash;        console.log(key, value);&ndash;&gt;-->
<!--&lt;!&ndash;      }&ndash;&gt;-->

<!--&lt;!&ndash;      try {&ndash;&gt;-->
<!--&lt;!&ndash;        const res = await fetch(API_URL, { method: "POST", body: formData });&ndash;&gt;-->
<!--&lt;!&ndash;        if (!res.ok) {&ndash;&gt;-->
<!--&lt;!&ndash;          const err = await res.json().catch(() => res);&ndash;&gt;-->
<!--&lt;!&ndash;          throw new Error(JSON.stringify(err));&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;        const data = await res.json();&ndash;&gt;-->
<!--&lt;!&ndash;        alert("Created user: " + (data.name || data.username));&ndash;&gt;-->
<!--&lt;!&ndash;        &ndash;&gt;-->
<!--&lt;!&ndash;        // Immediately show profile on the page&ndash;&gt;-->
<!--&lt;!&ndash;        if (data.profilePhotoUrl) {&ndash;&gt;-->
<!--&lt;!&ndash;          document.getElementById("profileImg").src = data.profilePhotoUrl;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;        if (data.username) {&ndash;&gt;-->
<!--&lt;!&ndash;          document.getElementById("profileUsername").textContent = data.username;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;        // optionally persist user for later pages&ndash;&gt;-->
<!--&lt;!&ndash;        localStorage.setItem("currentUser", JSON.stringify(data));&ndash;&gt;-->
<!--&lt;!&ndash;        form.reset();&ndash;&gt;-->
<!--&lt;!&ndash;        console.log("Saved user:", data);&ndash;&gt;-->

<!--&lt;!&ndash;        // You can show image: image.src = "http://localhost:8888" + data.profilePhotoUrl&ndash;&gt;-->
<!--&lt;!&ndash;      } catch (err) {&ndash;&gt;-->
<!--&lt;!&ndash;        console.error(err);&ndash;&gt;-->
<!--&lt;!&ndash;        alert("Error: " + err.message);&ndash;&gt;-->
<!--&lt;!&ndash;      }&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->


<!--&lt;!&ndash;  </script>&ndash;&gt;-->

<!--&lt;!&ndash;</body>&ndash;&gt;-->

<!--&lt;!&ndash;</html>&ndash;&gt;-->


<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <meta charset="utf-8" />-->
<!--    <title>OTP Verification (Email or SMS)</title>-->
<!--    <style>-->
<!--        body { font-family: system-ui, sans-serif; max-width: 520px; margin: 40px auto; }-->
<!--        .row { margin: 12px 0; }-->
<!--        input { padding: 10px; width: 100%; box-sizing: border-box; }-->
<!--        button { padding: 10px 16px; cursor: pointer; }-->
<!--        .hint { font-size: 12px; color: #666; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<h2>Verify Your Account</h2>-->

<!--&lt;!&ndash; One field that accepts either email or E.164 phone &ndash;&gt;-->
<!--<div class="row">-->
<!--    <input id="identifier" placeholder="Email (john@doe.com) or Phone (+14155550123)">-->
<!--    <div class="hint">Phone must be in E.164 format, starting with + and country code.</div>-->
<!--</div>-->

<!--<div class="row">-->
<!--    <button onclick="sendOtp()">Send Verification Code</button>-->
<!--</div>-->

<!--<div id="otpRow" class="row" style="display:none;">-->
<!--    <input id="otp" maxlength="6" placeholder="Enter 6-digit code" />-->
<!--</div>-->

<!--<div id="verifyRow" class="row" style="display:none;">-->
<!--    <button onclick="verifyOtp()">Verify</button>-->
<!--</div>-->

<!--<p id="status"></p>-->

<!--<script>-->
<!--    // Helper to POST JSON-->
<!--    function post(url, data) {-->
<!--      return fetch(url, {-->
<!--        method: "POST",-->
<!--        headers: { "Content-Type": "application/json" },-->
<!--        body: JSON.stringify(data)-->
<!--      }).then(r => r.json());-->
<!--    }-->

<!--    function sendOtp() {-->
<!--      const identifier = document.getElementById("identifier").value.trim();-->
<!--      if (!identifier) {-->
<!--        document.getElementById("status").innerText = "Please enter email or phone.";-->
<!--        return;-->
<!--      }-->

<!--      post("/api/otp/send", { identifier })-->
<!--        .then(res => {-->
<!--          document.getElementById("status").innerText = res.message || "Code sent.";-->
<!--          document.getElementById("otpRow").style.display = "block";-->
<!--          document.getElementById("verifyRow").style.display = "block";-->
<!--        })-->
<!--        .catch(() => {-->
<!--          document.getElementById("status").innerText = "Something went wrong while sending the code.";-->
<!--        });-->
<!--    }-->

<!--    function verifyOtp() {-->
<!--      const identifier = document.getElementById("identifier").value.trim();-->
<!--      const otp = document.getElementById("otp").value.trim();-->

<!--      if (!otp) {-->
<!--        document.getElementById("status").innerText = "Please enter the code.";-->
<!--        return;-->
<!--      }-->

<!--      post("/api/otp/verify", { identifier, otp })-->
<!--        .then(res => {-->
<!--          document.getElementById("status").innerText = res.message || (res.success === "true" ? "Verified." : "Invalid code.");-->
<!--        })-->
<!--        .catch(() => {-->
<!--          document.getElementById("status").innerText = "Verification failed due to a server error.";-->
<!--        });-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->




<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Upload Post / Reel</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 680px; margin: 40px auto; }
        label { display:block; margin-top: 12px; }
    </style>
</head>
<body>
<h2>Upload a Post or Reel</h2>

<!-- In real app userId comes from logged-in session -->
<label>
    User ID:
    <input id="userId" type="number" value="1"/>
</label>

<label>
    Type:
    <select id="type">
        <option value="POST">Post</option>
        <option value="REEL">Reel</option>
    </select>
</label>

<label>
    Caption:
    <textarea id="caption" rows="3" cols="60"></textarea>
</label>

<label>
    File (image or video):
    <input id="file" type="file" accept="image/*,video/*"/>
</label>

<button id="upload">Upload</button>

<pre id="result"></pre>

<script>
    document.getElementById('upload').addEventListener('click', async () => {
      const userId = document.getElementById('userId').value;
      const type = document.getElementById('type').value;
      const caption = document.getElementById('caption').value;
      const fileInput = document.getElementById('file');

      if (!fileInput.files.length) {
        alert('Choose a file first');
        return;
      }

      const formData = new FormData();
      formData.append('userId', userId);
      formData.append('type', type);
      formData.append('caption', caption);
      formData.append('file', fileInput.files[0]);
 const API_URL = "http://localhost:8888/instagram/posts";
      try {
        const res = await fetch(API_URL, {
          method: 'POST',
          body: formData
        });

        if (!res.ok) {
          const text = await res.text();
          document.getElementById('result').textContent = 'Upload failed: ' + res.status + ' ' + text;
          return;
        }
        const json = await res.json();
        document.getElementById('result').textContent = JSON.stringify(json, null, 2);
      } catch (err) {
        document.getElementById('result').textContent = 'Error: ' + err;
      }
    });
</script>
</body>
</html>
